# Eloquence'25 Event Submission System - Wrangler Configuration

name = "eloquence-api"
main = "workers/eloquence-api.js"
compatibility_date = "2023-08-01"

# Cloudflare Workers environment variables
[vars]
R2_PUBLIC_URL = "https://pub-xxxxxxxx.r2.dev"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "eloquence_db"
database_id = "your_d1_database_id"

# R2 Bucket binding
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "eloquence-submissions"
preview_bucket_name = "eloquence-submissions-dev"

# Routes configuration for custom domain (uncomment and modify as needed)
# [routes]
# pattern = "api.yourdomain.com/*"
# zone_name = "yourdomain.com"

# Development environment
[env.dev]
workers_dev = true

# Local development variables
# Use these commands to run locally:
# npx wrangler dev --local --persist
# npx wrangler d1 execute eloquence_db --local --file=./schema.sql